import requests

# Target base URL
base_url = "https://portals.au.edu.pk"

# Logical endpoints to check
endpoints = [
    "/ADMISSIONS_TEST/Login",
    "/ADMISSIONS_TEST/login",
    "/ADMISSIONS_TEST/Accounts/Login",
    "/ADMISSIONS_TEST/Accounts/login",
    "/ADMISSIONS_TEST/Accounts/ResetPassword",
    "/ADMISSIONS_TEST/Accounts/ForgetPassword",
    "/ADMISSIONS_TEST/Admin/Login",
    "/ADMISSIONS_TEST/Admin/login",
    "/ADMISSIONS_TEST/api/login",
    "/ADMISSIONS_TEST/api/user/login",
    "/ADMISSIONS_TEST/Auth/Login",
    "/ADMISSIONS_TEST/Authentication/Login",
    "/ADMISSIONS_TEST/Reset",
    "/ADMISSIONS_TEST/Recover"
]

headers = {
    "User-Agent": "Mozilla/5.0",
    "Accept": "*/*"
}

print("ðŸ“¡ Checking login/reset endpoints...\n")

for endpoint in endpoints:
    url = base_url + endpoint
    try:
        resp = requests.get(url, headers=headers, timeout=10, allow_redirects=True)
        print(f"[{resp.status_code}] {endpoint}", end='')

        # Optional content inspection
        if any(keyword in resp.text.lower() for keyword in ["login", "reset", "password", "user"]):
            print("  ðŸ”¥ Contains login/reset content")
        else:
            print()
    except requests.exceptions.RequestException as e:
        print(f"[ERROR] {endpoint}: {e}")
